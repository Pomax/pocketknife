(function(a){if(!a["Toolkit"])return;var b=function(a,b,c){if(a.disabled)return;var d=c.clientX,e=a.position().left,f=a.position().right-b.position().width,g=parseFloat(a.get("value"));if(e<=d&&d<=f){d-=e;var h=parseFloat(a.get("min")),i=parseFloat(a.get("max")),j=d/(f-e),k=""+(h+j*(i-h));if(k===g)return;b.css("left",parseInt(1e3*(k-h)/(i-h))/10+"%");a.set("value",k);b.set("title",k);if(a.onchange){a.onchange({value:k})}}};var c=function(c){var d={disabled:false,type:"range",min:c.get("min")||"0",max:c.get("max")||"100",step:c.get("step")||"1",value:c.get("value")||"0"},e=create("div",d);if(c.id)e.id=c.id;if(c.get("class"))e.set("class",c.get("class"));if(c.get("style"))e.set("style",c.get("style"));if(c.onchange){e.onchange=c.onchange}e.classes().add("tiny-toolkit-input-type-range");var f=create("span").classes().add("tiny-toolkit-input-type-range-slider");f.set("title",d.value);e.add(f);f.onselectstart=function(){return false};f.onmousedown=function(){return false};e.onselectstart=function(){return false};e.onmousedown=function(){return false};e.listen("mousemove",function(a){if(e.get("sdown")){b(e,f,a)}});e.listen("mousedown",function(a){if(a.which===1||a.button===1){e.set("sdown",true);b(e,f,a);return false}});a.document.listen("mouseup",function(a){e.set("sdown","")});if(d.value!=="0"){var g=parseFloat(d.min),h=parseFloat(d.max),i=parseFloat(d.value);f.css("left",100*(i-g)/(h-g)+"%")}e.disable=function(){e.disabled=true;e.classes().add("hidden");f.classes().add("hidden")};e.enable=function(){e.disabled=false;e.classes().remove("hidden");f.classes().remove("hidden")};return e};var d=function(a){var b=a["set"];a["set"]=function(d,e){if(d!=="type"||e!=="range"){return b(d,e)}var f=a.parent();if(f){f.replace(a,c(a))}}};var e=function(a){if(a.nodeName.toLowerCase==="input"){d(a);if(a.get("type")==="range"){return a.set("type","range")}}else{f(a)}return a};var f=function(b){var d=b||a;d.find("input[type=range]").do(function(a){if(a.parent()){a.parent().replace(a,c(a))}})};a["Toolkit"].addUpdate(function(a){return e(a)});document.listenOnce("DOMContentLoaded",f)}(window));
