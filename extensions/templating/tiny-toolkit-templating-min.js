(function(h){if(h.Toolkit){var j={},k=function(f){for(var d=RegExp("{{#([^}]+)}}(([\\w\\W])*?){{\\/\\1}}","g"),a=[],b,c;b=d.exec(f);){a.push(b[1]);var g=k(b[2]);c=0;for(b=g.length;c<b;c++)a.push(g[c])}return a};h.Toolkit.template=function(f,d){j[f]||(j[f]=get(f+".tpl.html"));var a=j[f],b=[],c,g=0,e,b=k(a,b),g=b.length;for(c=0;c<g;c++)e=b[c],RE=RegExp("{{#"+e+"}}(([\\w\\W])*?){{\\/"+e+"}}","g"),a=exists(d[e])&&!1!==d[e]?a.replace(RE,"$1"):a.replace(RE,"");for(e in d)Object.hasOwnProperty(d,e)||(a=
a.replace(RegExp("{{"+e+"( | [^}]*)?}}","g"),d[e]));return a=a.replace(RegExp("{{[^|]+\\s*\\|\\s*([^}]*)}}","g"),"$1")};h.template=function(f,d){for(var a=create("div",h.Toolkit.template(f,d)),b=[],c=0;c<a.children.length;c++)b.push(a.children.item(c));return 1===b.length?b[0]:b}}})(window);
