(function(a,b,c){if(a["Toolkit"])return;var d={update:function(a){return a},addUpdate:function(a){var b=this.update;this.update=function(c){return a(b(c))}}};a["Toolkit"]=d;a["create"]=function(a,c,e){var f=l(b.createElement(a));if(c){for(p in c){if(Object.hasOwnProperty(c,p))continue;f.setAttribute(p,c[p])}}if(e){f.innerHTML=e}return d.update(f)};var e=function(a){var b=new XMLHttpRequest;b.open("GET",a,false);b.send(null);return b.responseText.replace(/>[\s\r\n]+</g,"><")};var f=function(a){return function(b){return b!==a&&b!==null}}();var g={};var h=function(a){var b=new RegExp("{{#([^}]+)}}(([\\w\\W])*?){{\\/\\1}}","g"),c=[],d,e,f;while(d=b.exec(a)){c.push(d[1]);var g=h(d[2]);for(f=0,e=g.length;f<e;f++){c.push(g[f])}}return c};var i=function(a,b){if(!g[a]){g[a]=e(a+".tpl.html")}var c=g[a],d=[],i,j=0,k;d=h(c,d);j=d.length;for(i=0;i<j;i++){k=d[i];RE=new RegExp("{{#"+k+"}}(([\\w\\W])*?){{\\/"+k+"}}","g");if(f(b[k])&&b[k]!==false){c=c.replace(RE,"$1")}else{c=c.replace(RE,"")}}for(k in b){if(Object.hasOwnProperty(b,k))continue;c=c.replace(new RegExp("{{"+k+"( | [^}]*)?}}","g"),b[k])}c=c.replace(new RegExp("{{[^|]+\\s*\\|\\s*([^}]*)}}","g"),"$1");return c};var j=function(a){var b=a.getAttribute("class");var c=!b?[]:b.split(/\s+/);var d=function(){a.setAttribute("class",c.join(" "))};this.add=function(b){if(c.indexOf(b)===-1){c.push(b)}d();return a};this.remove=function(b){var e=c.indexOf(b);if(e>-1){c.splice(e,1);d()}return a};this.contains=function(a){return c.indexOf(a)!==-1}};var k=function(a,b,c){if(!f(a[b])){a[b]=c}};var l=function(a){if(!f(a))return;if(f(a["__ttk_extended"]))return a;k(a,"find",function(b){return r(a,b)});k(a,"template",function(b,c){return d.update(a.html(i(b,c)))});k(a,"css",function(c,d){if(d&&d!==""){a.style[c]=d;return a}if(d===""){var e=a.get("style");if(e){e=e.replace(new RegExp(c+"\\s*:\\s*"+d,""),"");a.set("style",e)}return a}if(!d&&typeof c==="object"){for(p in c){if(Object.hasOwnProperty(c,p))continue;a.css(p,c[p])}return a}return b.defaultView.getComputedStyle(a,null).getPropertyValue(c)||a.style[c]});k(a,"position",function(){return a.getBoundingClientRect()});k(a,"classes",function(){if(!a.__ttk_clobj){a.__ttk_clobj=new j(a)}return a.__ttk_clobj});k(a,"show",function(b){if(b){a.removeAttribute("data-tiny-toolkit-hidden")}else{a.set("data-tiny-toolkit-hidden","")}return a});k(a,"toggle",function(){a.show(f(a.get("data-tiny-toolkit-hidden")));return a});k(a,"html",function(b){if(f(b)){a.innerHTML=b;return a}return a.innerHTML});k(a,"parent",function(){return l(a.parentNode)});k(a,"add",function(){for(var b=0,c=arguments.length;b<c;b++){if(f(arguments[b])){a.appendChild(arguments[b])}}return a});k(a,"replace",function(a,b){if(f(a.parentNode)){a.parentNode.replaceChild(b,a)}return b});k(a,"remove",function(b){if(!b){a.parentNode.removeChild(a);return}if(parseInt(b)==b){a.removeChild(a.children[b])}else{a.removeChild(b)}return a});k(a,"clear",function(){while(a.children.length>0){a.remove(a.get(0))}return a});k(a,"get",function(b){if(b==parseInt(b)){return l(a.children[b])}return a.getAttribute(b)});k(a,"set",function(b,c){if(!f(c)){for(prop in b){if(!Object.hasOwnProperty(b,prop)){a.setAttribute(prop,b[prop])}}}else{a.setAttribute(b,c)}return a});k(a,"listenOnce",function(b,c,d){var e=function(){a.removeEventListener(b,e,d|false);c.call(arguments)};a.addEventListener(b,e,d|false);return a});k(a,"listen",function(b,c,d){a.addEventListener(b,c,d|false);return a});k(a,"do",function(b){b(a);return a});a.length=1;a["__ttk_extended"]=true;return a};a["extend"]=l;var m=function(a,b,c,d){for(var e=0,g=a.length;e<g;e++){l(f(b)?a[e][b]():a[e])[c].apply(a[e],d)}return a};var n=[],o=function(){return n};n["classes"]={add:o,remove:o};n["remove"]=o;n["do"]=o;var q=function(a){var b=["css","show","toggle","set","listen","listenOnce"],c=b.length,d,e;for(d=0;d<c;d++){e=b[d];a[e]=function(b){return function(){return m(a,null,b,arguments)}}(e);n[e]=o}var f={add:function(){return m(a,"classes","add",arguments)},remove:function(){return m(a,"classes","remove",arguments)}};a["classes"]=function(){return f};a["remove"]=function(){m(a,"remove",arguments);return n};a["do"]=function(b){for(var c=0,d=a.length;c<d;c++){b(a[c])}return a};return a};var r=function(a,b){var c=a.querySelectorAll(b),d=[];if(c.length==0)return n;if(c.length==1){return l(c[0])}for(var e=0,f=c.length;e<f;e++){d[e]=l(c[e])}return q(d)};(function(){var a=create("style",{type:"text/css"},"*[data-tiny-toolkit-hidden]{display:none!important;visibility:hidden!important;opacity:0!important;}");b.head.appendChild(a)})();l(b).listenOnce("DOMContentLoaded",function(){l(c)});a["find"]=function(a){return r(b,a)};a["template"]=function(a,b){return d.update(l(create("div").template(a,b).children[0]))}}(window,document,document.body));
