(function(a,b,c){if(a["Toolkit"])return;var d={update:function(a){return a},addUpdate:function(a){var b=this.update;this.update=function(c){return a(b(c))}}};a["Toolkit"]=d;(function(){var a=b.createElement("style");a.type="text/css";a.innerHTML=".tiny-toolkit-hidden{display:none!important;visibility:hidden!important;opacity:0!important;}";b.head.appendChild(a)})();var e=function(a){var b=new XMLHttpRequest;b.open("GET",a,false);b.send(null);return b.responseText.replace(/>[\s\r\n]+</g,"><")};var f=function(a){return function(b){return b!==a&&b!==null}}();var g={};var h=function(a,b){if(!g[a]){g[a]=e(a+".tpl.html")}var c=g[a],d;for(prop in b){if(Object.hasOwnProperty(b,prop))continue;d=b[prop];c=c.replace(new RegExp("{{"+prop+"}}","g"),d)}return c};var i=function(a){this.element=a;var b=this.element.getAttribute("class");this.classes=!b?[]:b.split(/\s+/)};i.prototype={element:{},classes:[],__update:function(){this.element.setAttribute("class",this.classes.join(" "))},add:function(a){if(this.classes.indexOf(a)===-1){this.classes.push(a)}this.__update();return this.element},remove:function(a){var b=this.classes.indexOf(a);if(b>-1){this.classes.splice(b,1);this.__update()}return this.element},contains:function(a){return this.classes.indexOf(a)!==-1}};i.prototype.contstructor=i;var j=function(a){if(!f(a))return;var c=function(a,b,c){if(!f(a[b])){a[b]=c}};c(a,"find",function(b){return l(a,b)});c(a,"template",function(b,c){return d.update(a.html(h(b,c)))});c(a,"css",function(c,d){if(!d){for(p in c){if(Object.hasOwnProperty(c,p))continue;a.css(p,c[p])}return a}if(f(d)){a.style[c]=d;return a}return b.defaultView.getComputedStyle(a,null).getPropertyValue(c)||a.style[c]});c(a,"position",function(){return a.getBoundingClientRect()});c(a,"classes",function(){if(!a.__clobj){a.__clobj=new i(a)}return a.__clobj});c(a,"show",function(b,c){if(b){a.classes().remove("tiny-toolkit-hidden")}else{a.classes().add("tiny-toolkit-hidden")}return a});c(a,"toggle",function(){a.show(a.classes().contains("tiny-toolkit-hidden"));return a});c(a,"html",function(b){if(f(b)){a.innerHTML=b;return a}return a.innerHTML});c(a,"parent",function(){return j(a.parentNode)});c(a,"add",function(){for(var b=0,c=arguments.length;b<c;b++){if(f(arguments[b])){a.appendChild(arguments[b])}}return a});c(a,"replace",function(a,b){if(f(a.parentNode)){a.parentNode.replaceChild(b,a)}return b});c(a,"remove",function(b){if(!b){a.parentNode.removeChild(a);return}if(parseInt(b)==b){a.removeChild(a.children[b])}else{a.removeChild(b)}return a});c(a,"clear",function(){while(a.children.length>0){a.remove(a.get(0))}return a});c(a,"get",function(b){if(b==parseInt(b)){return j(a.children[b])}return a.getAttribute(b)});c(a,"set",function(b,c){if(!c){for(prop in b){if(!Object.hasOwnProperty(b,prop)){a.setAttribute(prop,b[prop])}}}else{a.setAttribute(b,c)}return a});c(a,"listenOnce",function(b,c,d){var e=function(){a.removeEventListener(b,e,d|false);c.call(arguments)};a.addEventListener(b,e,d|false);return a});c(a,"listen",function(b,c,d){a.addEventListener(b,c,d|false);return a});a.foreach=function(b){b(a)};return a};var k=function(a){a["css"]=function(b,c){for(var d=0,e=a.length;d<e;d++){a[d].css(b,c)}return a};a["show"]=function(b,c){for(var d=0,e=a.length;d<e;d++){a[d].show(b,c)}return a};a["toggle"]=function(){for(var b=0,c=a.length;b<c;b++){a[b].toggle()}return a};a["remove"]=function(){for(var b=0,c=a.length;b<c;b++){a[b].remove()}return[]};a["listen"]=function(){for(var b=0,c=a.length;b<c;b++){a[b]["listen"].apply(null,arguments)}return a};a["listenOnce"]=function(){for(var b=0,c=a.length;b<c;b++){a[b]["listenOnce"].apply(null,arguments)}return a};a.foreach=function(b){for(var c=0,d=a.length;c<d;c++){b(a[c])}return a};a["classes"]=function(){if(!a.__classes){a.__classes={add:function(b){for(var c=0,d=a.length;c<d;c++){a[c].classes().add(b)}return a},remove:function(b){for(var c=0,d=a.length;c<d;c++){a[c].classes().remove(b)}return a}}}return a.__classes};return a};var l=function(a,b){var c=a.querySelectorAll(b),d=[];if(c.length==0)return{foreach:function(){}};if(c.length==1){return j(c[0])}for(var e=0,f=c.length;e<f;e++){d[e]=j(c[e])}return k(d)};j(b).listenOnce("DOMContentLoaded",function(){j(c)});a["extend"]=j;a["create"]=function(a){var c=j(b.createElement(a));return d.update(c)};a["find"]=function(a){return l(b,a)};a["template"]=function(a,b){return d.update(j(create("div").template(a,b).children[0]))}}(window,document,document.body));
